

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>nn — neural networks &mdash; MicroPython 1.12 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/openmv.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tf — Tensor Flow" href="omv.tf.html" />
    <link rel="prev" title="image — machine vision" href="omv.image.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MicroPython
          

          
            
            <img src="../_static/web-logo-sticky.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.12
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/quickref.html">Quick reference for the openmvcam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/general.html">General information about the openmvcam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/tutorial/index.html">OpenMV Cam Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MicroPython libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#python-standard-libraries-and-micro-libraries">Python standard libraries and micro-libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#micropython-specific-libraries">MicroPython-specific libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#libraries-specific-to-the-openmv-cam">Libraries specific to the OpenMV Cam</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pyb.html"><code class="docutils literal notranslate"><span class="pre">pyb</span></code> — functions related to the board</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.ADC.html">class ADC – analog to digital conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.CAN.html">class CAN – controller area network communication bus</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.DAC.html">class DAC – digital to analog conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.ExtInt.html">class ExtInt – configure I/O pins to interrupt on external events</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.I2C.html">class I2C – a two-wire serial protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.LED.html">class LED – LED object</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Pin.html">class Pin – control I/O pins</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Pin.html#class-pinaf-pin-alternate-functions">class PinAF – Pin Alternate Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.RTC.html">class RTC – real time clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Servo.html">class Servo – 3-wire hobby servo driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.SPI.html">class SPI – a master-driven serial protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Timer.html">class Timer – control internal timers</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.Timer.html#class-timerchannel-setup-a-channel-for-a-timer">class TimerChannel — setup a channel for a timer</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.UART.html">class UART – duplex serial communication bus</a></li>
<li class="toctree-l3"><a class="reference internal" href="pyb.USB_VCP.html">class USB_VCP – USB virtual comm port</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.time.html"><code class="docutils literal notranslate"><span class="pre">time</span></code> — tracking elapsed time</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.sensor.html"><code class="docutils literal notranslate"><span class="pre">sensor</span></code> — camera sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html"><code class="docutils literal notranslate"><span class="pre">image</span></code> — machine vision</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-haarcascade-feature-descriptor">class HaarCascade – Feature Descriptor</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-similarity-similarity-object">class Similarity – Similarity Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-histogram-histogram-object">class Histogram – Histogram Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-percentile-percentile-object">class Percentile – Percentile Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-threshold-threshold-object">class Threshold – Threshold Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-statistics-statistics-object">class Statistics – Statistics Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-blob-blob-object">class Blob – Blob object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-line-line-object">class Line – Line object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-circle-circle-object">class Circle – Circle object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-rect-rectangle-object">class Rect – Rectangle Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-qrcode-qrcode-object">class QRCode – QRCode object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-apriltag-apriltag-object">class AprilTag – AprilTag object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-datamatrix-datamatrix-object">class DataMatrix – DataMatrix object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-barcode-barcode-object">class BarCode – BarCode object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-displacement-displacement-object">class Displacement – Displacement object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-kptmatch-keypoint-object">class kptmatch – Keypoint Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-imagewriter-imagewriter-object">class ImageWriter – ImageWriter object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-imagereader-imagereader-object">class ImageReader – ImageReader object</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html#class-image-image-object">class Image – Image object</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">nn</span></code> — neural networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#class-nn-class-nn-dection-result">class nn_class – nn dection result</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#constructors">Constructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#class-net-neural-network">class Net – Neural Network</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Constructors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="omv.tf.html"><code class="docutils literal notranslate"><span class="pre">tf</span></code> — Tensor Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.tf.html#class-tf-classification-tf-classification-dection-result">class tf_classification – tf classification dection result</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.tf.html#class-tf-model-tensorflow-model">class tf_model – TensorFlow Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.gif.html"><code class="docutils literal notranslate"><span class="pre">gif</span></code> — gif recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.gif.html#class-gif-gif-recorder">class Gif – Gif recorder</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.mjpeg.html"><code class="docutils literal notranslate"><span class="pre">mjpeg</span></code> — mjpeg recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.mjpeg.html#class-mjpeg-mjpeg-recorder">class Mjpeg – Mjpeg recorder</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.lcd.html"><code class="docutils literal notranslate"><span class="pre">lcd</span></code> — lcd shield driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.fir.html"><code class="docutils literal notranslate"><span class="pre">fir</span></code> — thermopile shield driver (fir == far infrared)</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.tv.html"><code class="docutils literal notranslate"><span class="pre">tv</span></code> — tv shield driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.cpufreq.html"><code class="docutils literal notranslate"><span class="pre">cpufreq</span></code> — CPU Frequency Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.imu.html"><code class="docutils literal notranslate"><span class="pre">imu</span></code> — imu sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html"><code class="docutils literal notranslate"><span class="pre">rpc</span></code> — rpc library</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-rpc-virtual-class">class rpc - rpc virtual class</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-master-rpc-master-virtual-class">class rpc_master - rpc_master virtual class</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-slave-rpc-slave-virtual-class">class rpc_slave - rpc_slave virtual class</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-can-master-can-master-interface">class rpc_can_master - CAN Master Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-can-slave-can-slave-interface">class rpc_can_slave - CAN Slave Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-i2c-master-i2c-master-interface">class rpc_i2c_master - I2C Master Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-i2c-slave-i2c-slave-interface">class rpc_i2c_slave - I2C Slave Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-spi-master-spi-master-interface">class rpc_spi_master - SPI Master Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-spi-slave-spi-slave-interface">class rpc_spi_slave - SPI Slave Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-uart-master-uart-master-interface">class rpc_uart_master - UART Master Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-uart-slave-uart-slave-interface">class rpc_uart_slave - UART Slave Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-usb-vcp-master-usb-vcp-master-interface">class rpc_usb_vcp_master - USB VCP Master Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-usb-vcp-slave-usb-vcp-slave-interface">class rpc_usb_vcp_slave - USB VCP Slave Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#class-rpc-wifi-master-wifi-master-interface">class rpc_wifi_master - WiFi Master Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html#id10">class rpc_wifi_master - WiFi Master Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.omv.html"><code class="docutils literal notranslate"><span class="pre">omv</span></code> — OpenMV Cam Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#third-party-libraries-on-the-openmv-cam">Third-party libraries on the OpenMV Cam</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">The MicroPython language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genrst/index.html">MicroPython differences from CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">MicroPython license information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MicroPython</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">MicroPython libraries</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">nn</span></code> — neural networks</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/library/omv.nn.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-nn">
<span id="nn-neural-networks"></span><h1><a class="reference internal" href="#module-nn" title="nn: neural networks"><code class="xref py py-mod docutils literal notranslate"><span class="pre">nn</span></code></a> — neural networks<a class="headerlink" href="#module-nn" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">nn</span></code> module is used for neural networks.</p>
<p>Please see the examples that come with OpenMV IDE for how to use the NN module.</p>
<p>For more information about creating your own NN examples see please see the
<a class="reference external" href="https://github.com/openmv/openmv/tree/master/ml/cmsisnn">README on our github here</a>.</p>
</div>
<div class="section" id="class-nn-class-nn-dection-result">
<h1>class nn_class – nn dection result<a class="headerlink" href="#class-nn-class-nn-dection-result" title="Permalink to this headline">¶</a></h1>
<p>The nn_class object is returned by <a class="reference internal" href="#nn.net.search" title="nn.net.search"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">net.search()</span></code></a>.</p>
<div class="section" id="constructors">
<h2>Constructors<a class="headerlink" href="#constructors" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nn.nn.nn_class">
<em class="property">class </em><code class="descclassname">nn.</code><code class="descname">nn_class</code><a class="headerlink" href="#nn.nn.nn_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Please call <a class="reference internal" href="#nn.net.search" title="nn.net.search"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">net.search()</span></code></a> to create this object.</p>
</dd></dl>

</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="nn.nn_class.rect">
<code class="descclassname">nn_class.</code><code class="descname">rect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn_class.rect" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a rectangle tuple (x, y, w, h) for use with <a class="reference internal" href="omv.image.html#module-image" title="image: machine vision"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">image</span></code></a> methods
like <a class="reference internal" href="omv.image.html#image.image.draw_rectangle" title="image.image.draw_rectangle"><code class="xref any py py-meth docutils literal notranslate"><span class="pre">image.draw_rectangle()</span></code></a> of the nn_class’s bounding box.</p>
</dd></dl>

<dl class="method">
<dt id="nn.nn_class.x">
<code class="descclassname">nn_class.</code><code class="descname">x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn_class.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nn_class’s bounding box x coordinate (int).</p>
<p>You may also get this value doing <code class="docutils literal notranslate"><span class="pre">[0]</span></code> on the object.</p>
</dd></dl>

<dl class="method">
<dt id="nn.nn_class.y">
<code class="descclassname">nn_class.</code><code class="descname">y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn_class.y" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nn_class’s bounding box y coordinate (int).</p>
<p>You may also get this value doing <code class="docutils literal notranslate"><span class="pre">[1]</span></code> on the object.</p>
</dd></dl>

<dl class="method">
<dt id="nn.nn_class.w">
<code class="descclassname">nn_class.</code><code class="descname">w</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn_class.w" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nn_class’s bounding box w coordinate (int).</p>
<p>You may also get this value doing <code class="docutils literal notranslate"><span class="pre">[2]</span></code> on the object.</p>
</dd></dl>

<dl class="method">
<dt id="nn.nn_class.h">
<code class="descclassname">nn_class.</code><code class="descname">h</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn_class.h" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nn_class’s bounding box h coordinate (int).</p>
<p>You may also get this value doing <code class="docutils literal notranslate"><span class="pre">[3]</span></code> on the object.</p>
</dd></dl>

<dl class="method">
<dt id="nn.nn_class.index">
<code class="descclassname">nn_class.</code><code class="descname">index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn_class.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index of the nn class detection (int).</p>
<p>You may also get this value doing <code class="docutils literal notranslate"><span class="pre">[4]</span></code> on the object.</p>
</dd></dl>

<dl class="method">
<dt id="nn.nn_class.value">
<code class="descclassname">nn_class.</code><code class="descname">value</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn_class.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the nn class detection (float).</p>
<p>You may also get this value doing <code class="docutils literal notranslate"><span class="pre">[5]</span></code> on the object.</p>
</dd></dl>

</div>
</div>
<div class="section" id="class-net-neural-network">
<h1>class Net – Neural Network<a class="headerlink" href="#class-net-neural-network" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>Constructors<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nn.nn.load">
<em class="property">class </em><code class="descclassname">nn.</code><code class="descname">load</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#nn.nn.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the neural network from a <code class="docutils literal notranslate"><span class="pre">.network</span></code> binary file into memory. The
networks layers/weights/biases/etc. are stored on the MicroPython heap.</p>
<p>Returns a <code class="docutils literal notranslate"><span class="pre">Net</span></code> object which can operate on an image.</p>
</dd></dl>

</div>
<div class="section" id="id2">
<h2>Methods<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="nn.net.forward">
<code class="descclassname">net.</code><code class="descname">forward</code><span class="sig-paren">(</span><em>image</em><span class="optional">[</span>, <em>roi</em><span class="optional">[</span>, <em>softmax=False</em><span class="optional">[</span>, <em>dry_run=False</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.net.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the network on an image roi (auto scaling if necessary) and returns a
list of floating point values representing the classification results of the
neural network.</p>
<p><code class="docutils literal notranslate"><span class="pre">roi</span></code> is the region-of-interest rectangle tuple (x, y, w, h). If not
specified, it is equal to the image rectangle. Only pixels within the
<code class="docutils literal notranslate"><span class="pre">roi</span></code> are operated on.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">softmax</span></code> is True then the list of all outputs will sum to 1. Otherwise,
any output in the list of outputs may be between 0 and 1.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">dry_run</span></code> to True to print out which network layers are being executed
instead of actually executing them. This is for debugging.</p>
</dd></dl>

<dl class="method">
<dt id="nn.net.search">
<code class="descclassname">net.</code><code class="descname">search</code><span class="sig-paren">(</span><em>image</em><span class="optional">[</span>, <em>roi</em><span class="optional">[</span>, <em>threshold=0.6</em><span class="optional">[</span>, <em>min_scale=1.0</em><span class="optional">[</span>, <em>scale_mul=0.5</em><span class="optional">[</span>, <em>x_overlap=0</em><span class="optional">[</span>, <em>y_overlap=0</em><span class="optional">[</span>, <em>contrast_threshold=1</em><span class="optional">[</span>, <em>softmax=False</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#nn.net.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the network on an image roi in a sliding window manner. The network
detector window is slid across the image at multiple scales.</p>
<p>Returns a list of <a class="reference internal" href="#nn.nn.nn_class" title="nn.nn.nn_class"><code class="xref any py py-class docutils literal notranslate"><span class="pre">nn_class</span></code></a> objects representing the nn detections.</p>
<p><code class="docutils literal notranslate"><span class="pre">roi</span></code> is the region-of-interest rectangle tuple (x, y, w, h). If not
specified, it is equal to the image rectangle. Only pixels within the
<code class="docutils literal notranslate"><span class="pre">roi</span></code> are operated on.</p>
<p>After running on an area in the image the first maximum detection over
<code class="docutils literal notranslate"><span class="pre">threshold</span></code> is added to the output list.</p>
<p><code class="docutils literal notranslate"><span class="pre">min_scale</span></code> controls how much scaling is applied to the network. At the
default value the network is not scaled. However, a value of 0.5 would allow
for detecting objects 50% in size of the image roi size…</p>
<p><code class="docutils literal notranslate"><span class="pre">scale_mul</span></code> controls how many different scales are tested out. The sliding
window method works by multiplying a default scale of 1 by <code class="docutils literal notranslate"><span class="pre">scale_mul</span></code>
while the result is over <code class="docutils literal notranslate"><span class="pre">min_scale</span></code>. The default value of <code class="docutils literal notranslate"><span class="pre">scale_mul</span></code>,
0.5, tests out a 50% size reduction per scale change. However, a value of
0.95 would only be a 5% size reductioin.</p>
<p><code class="docutils literal notranslate"><span class="pre">x_overlap</span></code> controls the percentage of overlap with the next detector
area of the sliding window. A value of zero means no overlap. A value of
0.95 would mean 95% overlap.</p>
<p><code class="docutils literal notranslate"><span class="pre">y_overlap</span></code> controls the percentage of overlap with the next detector
area of the sliding window. A value of zero means no overlap. A value of
0.95 would mean 95% overlap.</p>
<p><code class="docutils literal notranslate"><span class="pre">contrast_threshold</span></code> controls a threshold for skipping low contrast
regions of the image. Before the nn is run on an area in the image the
standard deviation is calculated on that area and the area is skipped if
the standard deviation falls below the <code class="docutils literal notranslate"><span class="pre">contrast_threshold</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">softmax</span></code> is True then the list of all outputs will sum to 1. Otherwise,
any output in the list of outputs may be between 0 and 1.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="omv.tf.html" class="btn btn-neutral float-right" title="tf — Tensor Flow" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="omv.image.html" class="btn btn-neutral float-left" title="image — machine vision" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2020, Damien P. George, Paul Sokolovsky, OpenMV LLC, and contributors
      <span class="lastupdated">
        Last updated on 11 May 2020.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Language and External Links</span>
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Language</dt>
      <dd>
        <a href="https://openmv.io">English</a>
      </dd>
      <dd>
        <a href="http://doc.singtown.cc">中文</a>
      </dd>
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
      <dd>
        <a href="https://openmv.io">openmv.io</a>
      </dd>
      <dd>
        <a href="http://forums.openmv.io">forums.openmv.io</a>
      </dd>
      <dd>
        <a href="https://github.com/openmv/openmv">github.com/openmv/openmv</a>
      </dd>
      <dd>
        <a href="http://micropython.org">micropython.org</a>
      </dd>
      <dd>
        <a href="http://forum.micropython.org">forum.micropython.org</a>
      </dd>
      <dd>
        <a href="https://github.com/micropython/micropython">github.com/micropython/micropython</a>
      </dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>